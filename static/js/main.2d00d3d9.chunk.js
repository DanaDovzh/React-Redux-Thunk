(this["webpackJsonpreact-redux-thunk"]=this["webpackJsonpreact-redux-thunk"]||[]).push([[0],{32:function(e,t,a){},49:function(e,t,a){},51:function(e,t,a){},52:function(e,t,a){},54:function(e,t,a){},55:function(e,t,a){},57:function(e,t,a){"use strict";a.r(t);var n=a(2),c=a(0),r=a(21),s=a.n(r),u=a(12),o=a(16),i=a(35),j=a(18),l="GET_TWEETS",d={tweets:{data:[]}};var b={users:{data:[]}},h="GET_USER";var O=Object(o.c)({rootReducerTweets:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:d,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case l:return Object(j.a)(Object(j.a)({},e),{},{tweets:t.payload});default:return e}},rootReducerUser:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:b,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case h:return Object(j.a)(Object(j.a)({},e),{},{users:t.payload});default:return e}}}),m=Object(o.e)(O,Object(o.d)(Object(o.a)(i.a))),f=(a(32),a(17)),x=a(6),p=a(11),v=a.n(p),g=a(15),w=a(10),N=a(61),y=a(63);a(49);var S=function(){var e=Object(c.useState)(""),t=Object(w.a)(e,2),a=t[0],r=t[1],s=Object(c.useState)(""),u=Object(w.a)(s,2),o=u[0],i=u[1],j=Object(c.useState)(""),l=Object(w.a)(j,2),d=l[0],b=l[1],h=Object(c.useState)(!1),O=Object(w.a)(h,2),m=O[0],f=O[1],x=Object(c.useState)(!0),p=Object(w.a)(x,2),S=p[0],k=p[1],C=function(){var e=Object(g.a)(v.a.mark((function e(t){var n,c,r;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),!m){e.next=11;break}return n={name:a,username:d,avatar:o},T(),e.next=6,fetch("http://domer.tech:9999/users",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(n)});case 6:return c=e.sent,e.next=9,c.json();case 9:r=e.sent,k(r.success);case 11:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),T=function(){r(""),i(""),b("")};return Object(n.jsxs)("div",{className:"add-form__user form",children:[Object(n.jsxs)(N.a,{className:"form_add",onSubmit:C,children:[Object(n.jsxs)(N.a.Group,{children:[Object(n.jsx)(N.a.Control,{required:!0,type:"text",onChange:function(e){return r(e.target.value)},placeholder:"Enter user's name",defaultValue:a}),Object(n.jsx)(N.a.Text,{className:"text-muted",children:"Name for new user"}),Object(n.jsx)(N.a.Control,{required:!0,minlength:"2",type:"text",onChange:function(e){return b(e.target.value)},placeholder:"Enter user's nickname",defaultValue:"@"}),Object(n.jsx)(N.a.Text,{className:"text-muted",children:"Name for new nickname"}),Object(n.jsx)(N.a.Control,{required:!0,type:"text",placeholder:"Link for avatar",onChange:function(e){var t=!!e.target.value.match(/(https?:\/\/.*\.(?:png|jpg|jpeg|gif|svg))/);f(t),t&&i(e.target.value)}}),Object(n.jsxs)(N.a.Text,{className:"text-muted",children:[Object(n.jsx)("span",{children:"Put link for avatar"}),!m&&Object(n.jsx)("span",{className:"error",children:"Wrong link"})]})]}),Object(n.jsx)(y.a,{className:"form_add__btn",type:"submit",children:"Submit"})]}),!S&&Object(n.jsx)("p",{className:"error",children:"Something went wrong"})]})},k=a(38);function C(){return function(){var e=Object(g.a)(v.a.mark((function e(t){var a,n;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("http://domer.tech:9999/users/");case 2:return a=e.sent,e.next=5,a.json();case 5:n=e.sent,t({type:h,payload:n});case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}a(51);var T=function(){var e=Object(u.c)((function(e){return e.rootReducerUser.users.data})),t=Object(u.b)(),a=Object(c.useState)(""),r=Object(w.a)(a,2),s=r[0],o=r[1],i=Object(c.useState)(""),j=Object(w.a)(i,2),l=j[0],d=j[1],b=Object(c.useState)(""),h=Object(w.a)(b,2),O=h[0],m=h[1],f=Object(c.useState)(""),x=Object(w.a)(f,2),p=x[0],S=x[1],T=Object(c.useState)(!1),_=Object(w.a)(T,2),E=_[0],I=_[1],R=Object(c.useState)(!0),P=Object(w.a)(R,2),U=P[0],q=P[1],F=Object(k.a)(new Set(e.map((function(e){return[e.name,e.id]})))),V=function(){var e=Object(g.a)(v.a.mark((function e(t){var a,n,c;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),!E){e.next=11;break}return a={name:s,content:l,image:O,userId:p},e.next=5,fetch("http://domer.tech:9999/tweets",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(a)});case 5:return n=e.sent,e.next=8,n.json();case 8:c=e.sent,q(c.success),o(""),d(""),m("");case 11:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(c.useEffect)((function(){t(C())}),[]),Object(n.jsxs)("div",{className:"form__add-tweet form",children:[Object(n.jsxs)(N.a,{className:"form_add",onSubmit:V,children:[Object(n.jsxs)(N.a.Group,{children:[Object(n.jsx)(N.a.Control,{required:!0,minlength:"2",type:"text",onChange:function(e){return d(e.target.value)},placeholder:"What do you want to say?",defaultValue:l}),Object(n.jsx)(N.a.Text,{className:"text-muted",children:"Your opinion"}),Object(n.jsxs)(N.a.Control,{as:"select",id:"select",onChange:function(e){o(e.target.value),S(e.target.selectedIndex),console.log(e.target.selectedIndex)},defaultValue:"Choose author",children:[Object(n.jsx)("option",{disabled:!0,children:"Choose author"}),F.map((function(e){return Object(n.jsxs)("option",{id:e[1],value:e[0],children:[e[0]," "]})}))]}),Object(n.jsx)(N.a.Text,{className:"text-muted",children:"Select the author"}),Object(n.jsx)(N.a.Control,{required:!0,type:"text",placeholder:"Link for avatar",defaultValue:O,onChange:function(e){var t=!!e.target.value.match(/(https?:\/\/.*\.(?:png|jpg|jpeg|gif|svg))/);I(t),t&&m(e.target.value)}}),Object(n.jsxs)(N.a.Text,{className:"text-muted",children:[Object(n.jsx)("span",{children:"Put link for content"}),!E&&Object(n.jsx)("span",{className:"error",children:"Wrong link"})]})]}),Object(n.jsx)(y.a,{className:"form_add__btn",type:"submit",children:"Submit"})]}),!U&&Object(n.jsx)("p",{className:"error",children:"Something went wrong"})]})},_=(a(52),function(){return Object(n.jsxs)("div",{className:"nav-pages",children:[Object(n.jsx)(f.b,{to:"/users-page",className:"nav-link",activeClassName:"active",children:"Users"}),Object(n.jsx)(f.b,{to:"/add-user",className:"nav-link",activeClassName:"active",children:"Add user"}),Object(n.jsx)(f.b,{to:"/tweets-page",className:"nav-link",activeClassName:"active",children:"Tweets"}),Object(n.jsx)(f.b,{to:"/tweet-user",className:"nav-link",activeClassName:"active",children:"Add tweet"})]})}),E=a(62),I=(a(54),function(){var e=Object(u.b)(),t=Object(u.c)((function(e){return e.rootReducerUser.users.data}));return Object(c.useEffect)((function(){e(C())}),[]),Object(n.jsx)("div",{className:"users-page",children:t.reverse().map((function(e){return Object(n.jsxs)(E.a,{className:"card-user",children:[Object(n.jsx)(E.a.Img,{variant:"top",src:e.avatar,alt:e.avatar}),Object(n.jsxs)(E.a.Body,{children:[Object(n.jsx)(E.a.Title,{children:e.name}),Object(n.jsxs)(E.a.Text,{className:"username",children:["nickname: ",e.username]})]})]})}))})}),R=a(58),P=a(59),U=a(37),q=a(60);a(55);var F=function(){var e=Object(u.b)(),t=Object(u.c)((function(e){return e.rootReducerTweets.tweets.data})),a=Object(u.c)((function(e){return e.rootReducerUser.users.data}));return Object(c.useEffect)((function(){e(function(){var e=Object(g.a)(v.a.mark((function e(t){var a,n;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("http://domer.tech:9999/tweets/");case 2:return a=e.sent,e.next=5,a.json();case 5:n=e.sent,t({type:l,payload:n});case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),e(C())}),[]),console.log(t),Object(n.jsx)("div",{className:"tweets",children:t.map((function(e){return a.map((function(t){if(t.id===e.userId)return Object(n.jsx)(n.Fragment,{children:Object(n.jsxs)(E.a,{className:"card-tweet",children:[Object(n.jsx)(E.a.Header,{children:Object(n.jsx)(R.a,{children:Object(n.jsxs)(P.a,{children:[Object(n.jsx)(U.a,{children:Object(n.jsx)(q.a,{src:t.avatar,rounded:!0,className:"card-tweet__avatar"})}),Object(n.jsx)(U.a,{className:"name",children:t.name}),Object(n.jsx)(U.a,{className:"username",children:t.username})]})})}),Object(n.jsxs)(E.a.Body,{children:[Object(n.jsx)(E.a.Text,{className:"card-tweet__content",children:e.content}),Object(n.jsx)(q.a,{src:e.image,className:"card-tweet__img-content",fluid:!0})]})]})})}))}))})},V="/users-page",B="/add-user",G="/tweets-page",J="/tweet-user";a(56);var L=function(){return Object(n.jsxs)(f.a,{children:[Object(n.jsx)(_,{}),Object(n.jsxs)(x.c,{children:[Object(n.jsx)(x.a,{path:V,component:I}),Object(n.jsx)(x.a,{path:B,component:S}),Object(n.jsx)(x.a,{path:G,component:F}),Object(n.jsx)(x.a,{path:J,component:T})]})]})},W=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,64)).then((function(t){var a=t.getCLS,n=t.getFID,c=t.getFCP,r=t.getLCP,s=t.getTTFB;a(e),n(e),c(e),r(e),s(e)}))};s.a.render(Object(n.jsx)(u.a,{store:m,children:Object(n.jsx)(L,{})}),document.getElementById("root")),W()}},[[57,1,2]]]);
//# sourceMappingURL=main.2d00d3d9.chunk.js.map